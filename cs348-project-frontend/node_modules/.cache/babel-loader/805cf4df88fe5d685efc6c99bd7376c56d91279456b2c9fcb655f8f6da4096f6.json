{"ast":null,"code":"var _jsxFileName = \"/Users/srinjoydutta/Desktop/cs348/FINALCS348PROJECT/cs348-project-frontend/src/site/RestaurantSearch2.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RestaurantSearch2() {\n  _s();\n  const [zipCode, getZipcode] = useState(\"\");\n  const [cuisineSelected, getCuisineSelected] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitClicked, setSubmitClicked] = useState(false);\n  const [cuisineList, setCuisineList] = useState([]);\n  const columns = [{\n    name: \"Restaurant Name\",\n    selector: row => row[0],\n    width: \"150px\",\n    wrap: true\n  }, {\n    name: \"Street Address\",\n    selector: row => row[1],\n    width: \"140px\",\n    wrap: true\n  }, {\n    name: \"ZipCode\",\n    selector: row => row[2],\n    width: \"100px\",\n    wrap: true\n  }, {\n    name: \"Email\",\n    selector: row => row[3],\n    width: \"100px\",\n    wrap: true\n  }, {\n    name: \"Phone\",\n    selector: row => row[4],\n    width: \"100px\",\n    wrap: true\n  }, {\n    name: \"Website\",\n    selector: row => row[5],\n    width: \"100px\",\n    wrap: true\n  }, {\n    name: \"Cuisine\",\n    selector: row => row[6],\n    width: \"100px\",\n    wrap: true\n  }, {\n    name: \"Rating (Average)\",\n    selector: row => row[7],\n    width: \"150px\",\n    wrap: true\n  }];\n  useEffect(() => {\n    const fecthData = async () => {\n      const response = await fetch(\"http://127.0.0.1:5000//restaurants/cuisines\");\n      const cdata = await response.json();\n      console.log(cdata);\n      setCuisineList(cdata);\n    };\n    fecthData();\n  }, []);\n  let handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    console.log(\"cuisineType=\" + cuisineSelected);\n    try {\n      let res = await fetch(\"http://127.0.0.1:5000/restaurants?zipCode=\" + zipCode + \"&cuisineType=\" + cuisineSelected, {\n        method: \"GET\",\n        mode: \"cors\",\n        headers: {\n          'Content-Type': 'application/json',\n          'accept': 'application/json'\n        }\n      });\n      let resJson = await res.json();\n      setData(resJson);\n      setLoading(false);\n      setSubmitClicked(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \" Restaurant Search (by Zipcode and Cuisine) \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: zipCode,\n        placeholder: \"zipCode\",\n        onChange: e => getZipcode(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control\",\n        value: cuisineSelected,\n        onChange: e => getCuisineSelected(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Choose Cuisine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 10\n        }, this), cuisineList.map(cuisine => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: cuisine,\n          children: cuisine\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), submitClicked && /*#__PURE__*/_jsxDEV(DataTable, {\n      columns: columns,\n      data: data,\n      progressPending: loading,\n      pagination: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(RestaurantSearch2, \"LSDrPsbvkD1V7Rh1CpL+KwyhQLg=\");\n_c = RestaurantSearch2;\nexport default RestaurantSearch2;\nvar _c;\n$RefreshReg$(_c, \"RestaurantSearch2\");","map":{"version":3,"names":["React","useState","useEffect","DataTable","jsxDEV","_jsxDEV","RestaurantSearch2","_s","zipCode","getZipcode","cuisineSelected","getCuisineSelected","message","setMessage","data","setData","loading","setLoading","submitClicked","setSubmitClicked","cuisineList","setCuisineList","columns","name","selector","row","width","wrap","fecthData","response","fetch","cdata","json","console","log","handleSubmit","e","preventDefault","res","method","mode","headers","resJson","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","placeholder","onChange","target","map","cuisine","progressPending","pagination","_c","$RefreshReg$"],"sources":["/Users/srinjoydutta/Desktop/cs348/FINALCS348PROJECT/cs348-project-frontend/src/site/RestaurantSearch2.js"],"sourcesContent":["import React from 'react'\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport DataTable from \"react-data-table-component\";\n\n\nfunction RestaurantSearch2() {\n\n\n\n  const [zipCode, getZipcode] = useState(\"\");\n  const [cuisineSelected, getCuisineSelected] = useState(\"\");  \n  const [message, setMessage] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitClicked, setSubmitClicked] = useState(false);\n  const [cuisineList, setCuisineList] = useState([]);\n\n\n  const columns = [\n    {\n      name: \"Restaurant Name\",\n      selector: (row) => row[0],\n      width: \"150px\",\n      wrap: true,\n    },\n    {\n      name: \"Street Address\",\n      selector: (row) => row[1],\n      width: \"140px\",      \n      wrap: true\n    },\n    {\n      name: \"ZipCode\",\n      selector: (row) => row[2],\n      width: \"100px\",            \n      wrap: true\n    },\n    {\n      name: \"Email\",\n      selector: (row) => row[3],\n      width: \"100px\",            \n      wrap: true\n    },\n    {\n      name: \"Phone\",\n      selector: (row) => row[4],\n      width: \"100px\",                  \n      wrap: true\n    },\n    {\n      name: \"Website\",\n      selector: (row) => row[5],\n      width: \"100px\",                  \n      wrap: true\n    },\n    {\n      name: \"Cuisine\",\n      selector: (row) => row[6],\n      width: \"100px\",             \n      wrap: true\n    },    \n    {\n      name: \"Rating (Average)\",\n      selector: (row) => row[7],\n      width: \"150px\",             \n      wrap: true\n    },    \n  ];\n  \n  useEffect(() =>{\n  \tconst fecthData = async ()=>{\n  \t\tconst response = await fetch(\"http://127.0.0.1:5000//restaurants/cuisines\");\n  \t\tconst cdata = await response.json();\n  \t\tconsole.log(cdata);\n  \t\tsetCuisineList(cdata);\n  \t};\n  \tfecthData();\n  }, []) \n  \n\t\n  let handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    console.log(\"cuisineType=\"+cuisineSelected)\n    try {\n      let res = await fetch(\"http://127.0.0.1:5000/restaurants?zipCode=\"+zipCode +\"&cuisineType=\"+cuisineSelected, {\n        method: \"GET\",\n        mode : \"cors\",\n        headers: { 'Content-Type': 'application/json', 'accept': 'application/json' },\n        \n      });\n      let resJson = await res.json();\n      setData(resJson);\n      setLoading(false);\n      setSubmitClicked(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n  \n    <div className=\"center\">       \n\t\t<h5> Restaurant Search (by Zipcode and Cuisine) </h5>\n        <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={zipCode}\n          placeholder=\"zipCode\"\n          onChange={(e) => getZipcode(e.target.value)}\n        />\n        <br/>\n        <select className=\"form-control\" value={cuisineSelected} onChange={(e) => getCuisineSelected(e.target.value)}>\n        \t<option value=\"\">Choose Cuisine</option>\n        \t{cuisineList.map(cuisine => (\n        \t\t<option value={cuisine}>{cuisine}</option>\n        \t))\n        \t}\n        </select>\n        <br/>        \n        <button type=\"submit\">Search</button>\n      </form> \n      \t{submitClicked && (\n    \t<DataTable\n\t\t\tcolumns={columns}\n    \t    data={data}\n        \tprogressPending={loading}\n\t        pagination\n    \t/>\n\t)}       \n    </div>\n  );\n}\nexport default RestaurantSearch2;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}